{"version":3,"sources":["helpers/getObjects.js","components/ui/CongressMemberDetails.js","components/CongressDetailScreen.js","components/ui/CongressGridItems.js","components/ui/CongressGrid.js","components/CongressListScreen.js","components/SearchScreen.js","hooks/useForm.js","components/ui/Footer.js","components/ui/Header.js","routers/AppRouter.js","hooks/useFetch.js","App.js","index.js"],"names":["getObjects","obj","key","val","objects","i","hasOwnProperty","concat","lastIndexOf","push","CongressMemberDetails","member","className","id","title","first_name","middle_name","last_name","gender","party","date_of_birth","last_updated","state","total_votes","missed_votes","missed_votes_pct","votes_against_party_pct","votes_with_party_pct","CongressDetailScreen","listOfMembers","congressId","useParams","history","useHistory","useState","congressMemberInfo","setCongressMemberInfo","loading","setLoading","useEffect","a","result","fetchObjects","map","onClick","goBack","CongressGridItems","to","CongressGrid","CongressListScreen","results","members","SearchScreen","filteredSearch","setFilteredSearch","initialState","values","setValues","target","name","value","useForm","searchText","searchTextByID","searchTextByFirstName","searchTextByLastName","searchTextByGender","searchTextByParty","formValues","handleInputChange","handleSearch","e","preventDefault","showAdvancedFilters","setShowAdvancedFilters","type","placeholder","autoComplete","onChange","length","Footer","Date","getFullYear","href","Header","AppRouter","url","isMounted","useRef","data","error","setState","current","fetch","credentials","headers","then","resp","json","useFetch","path","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.134ed98b.chunk.js","sourcesContent":["export const getObjects = (obj, key, val) => {\n  var objects = [];\n  for (var i in obj) {\n    if (!obj.hasOwnProperty(i)) continue;\n    if (typeof obj[i] == \"object\") {\n      objects = objects.concat(getObjects(obj[i], key, val));\n    }\n    //if key matches and value matches or if key matches and value is not passed (eliminating the case where key matches but passed value does not)\n    else if ((i === key && obj[i] === val) || (i === key && val === \"\")) {\n      //\n      objects.push(obj);\n    } else if (obj[i] === val && key === \"\") {\n      //only add if the object is not already in the array\n      if (objects.lastIndexOf(obj) === -1) {\n        objects.push(obj);\n      }\n    }\n  }\n  return objects;\n};\n","import React from \"react\";\nimport \"../../styles/member-details.scss\";\n\nexport const CongressMemberDetails = ({ member }) => {\n  return (\n    <div className=\"member-details\">\n      <p>\n        <span>ID: </span>\n        {member.id}\n      </p>\n      <p>\n        <span>Title: </span>\n        {member.title}\n      </p>\n      <p>\n        <span>First Name: </span>\n        {member.first_name}\n      </p>\n      <p>\n        <span>Middle Name: </span>\n        {member.middle_name}\n      </p>\n      <p>\n        <span>Last Name: </span>\n        {member.last_name}\n      </p>\n      <p>\n        <span>Gender: </span>\n        {member.gender}\n      </p>\n      <p>\n        <span>Party: </span>\n        {member.party}\n      </p>\n      <p>\n        <span>Date of Birth: </span>\n        {member.date_of_birth}\n      </p>\n      <p>\n        <span>Last Update: </span>\n        {member.last_updated}\n      </p>\n      <p>\n        <span>State: </span>\n        {member.state}\n      </p>\n      <p>\n        <span>Total Votes: </span>\n        {member.total_votes}\n      </p>\n      <p>\n        <span>Missed Votes: </span>\n        {member.missed_votes}\n      </p>\n      <p>\n        <span>Missed Votes PCT: </span>\n        {member.missed_votes_pct}\n      </p>\n      <p>\n        <span>Votes Against Party PCT: </span>\n        {member.votes_against_party_pct}\n      </p>\n      <p>\n        <span>Votes With Party PCT: </span>\n        {member.votes_with_party_pct}\n      </p>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { getObjects } from \"../helpers/getObjects\";\nimport { CongressMemberDetails } from \"./ui/CongressMemberDetails\";\n\nexport const CongressDetailScreen = ({ listOfMembers }) => {\n  const { congressId } = useParams();\n  const history = useHistory();\n\n  const [congressMemberInfo, setCongressMemberInfo] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchObjects = async () => {\n      const result = await getObjects(listOfMembers, \"id\", congressId);\n      setCongressMemberInfo(result);\n      setLoading(false);\n    };\n    fetchObjects();\n  }, [congressId, listOfMembers]);\n\n  const handleReturn = () => {\n    history.goBack();\n  };\n\n  return (\n    <div>\n      <h1>Congress Member Details</h1>\n      {loading ? (\n        <p>Loading...</p>\n      ) : (\n        congressMemberInfo?.map((member) => (\n          <CongressMemberDetails key={member.id} member={member} />\n        ))\n      )}\n\n      <button onClick={handleReturn}>Back</button>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport const CongressGridItems = ({ member }) => {\n  return (\n    <div>\n      <p>\n        <span>ID: </span>\n        {member.id}\n      </p>\n      <p>\n        <span>Title: </span>\n        {member.title}\n      </p>\n      <p>\n        <span>First Name: </span>\n        {member.first_name}\n      </p>\n      <p>\n        <span>Middle Name: </span>\n        {member.middle_name}\n      </p>\n      <p>\n        <span>Last Name: </span>\n        {member.last_name}\n      </p>\n      <p>\n        <span>Gender: </span>\n        {member.gender}\n      </p>\n      <p>\n        <span>Party: </span>\n        {member.party}\n      </p>\n      <Link to={`./congress/${member.id}`}>Details...</Link>\n      <br />\n    </div>\n  );\n};\n","import React from \"react\";\nimport { CongressGridItems } from \"./CongressGridItems\";\n\nexport const CongressGrid = ({ listOfMembers }) => {\n  return (\n    <div className=\"congress-member-card\">\n      {listOfMembers?.map((member) => (\n        <CongressGridItems key={member.id} member={member} />\n      ))}\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport { CongressGrid } from \"./ui/CongressGrid\";\nimport \"../styles/congress-list-screen.scss\";\n\nexport const CongressListScreen = ({ listOfMembers }) => {\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>Congress Members</h1>\n      </header>\n      <main>\n        <h3>List of congress persons:</h3>\n        <CongressGrid listOfMembers={listOfMembers?.results[0].members} />\n      </main>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { getObjects } from \"../helpers/getObjects\";\nimport { useForm } from \"../hooks/useForm\";\nimport { CongressGrid } from \"./ui/CongressGrid\";\n\nexport const SearchScreen = ({ listOfMembers }) => {\n  const [filteredSearch, setFilteredSearch] = useState(\"\");\n\n  const [formValues, handleInputChange] = useForm({\n    searchText: \"\",\n    searchTextByID: \"\",\n    searchTextByFirstName: \"\",\n    searchTextByLastName: \"\",\n    searchTextByGender: \"\",\n    searchTextByParty: \"\",\n  });\n  const {\n    searchText,\n    searchTextByID,\n    searchTextByFirstName,\n    searchTextByLastName,\n    searchTextByGender,\n    searchTextByParty,\n  } = formValues;\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n\n    if (e.target.name === \"search-general\") {\n      setFilteredSearch(getObjects(listOfMembers, \"\", searchText));\n    } else if (e.target.name === \"search-text-by-id\") {\n      setFilteredSearch(getObjects(listOfMembers, \"id\", searchTextByID));\n    } else if (e.target.name === \"search-text-by-firstname\") {\n      setFilteredSearch(\n        getObjects(listOfMembers, \"first_name\", searchTextByFirstName)\n      );\n    } else if (e.target.name === \"search-text-by-lastname\") {\n      setFilteredSearch(\n        getObjects(listOfMembers, \"last_name\", searchTextByLastName)\n      );\n    } else if (e.target.name === \"search-text-by-gender\") {\n      setFilteredSearch(\n        getObjects(listOfMembers, \"gender\", searchTextByGender)\n      );\n    } else if (e.target.name === \"search-text-by-party\") {\n      setFilteredSearch(getObjects(listOfMembers, \"party\", searchTextByParty));\n    }\n  };\n\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\n\n  return (\n    <div>\n      <h1>Search Screen</h1>\n      <hr />\n\n      <div>\n        <div>\n          <form>\n            <input\n              type=\"text\"\n              placeholder=\"Type to search\"\n              name=\"searchText\"\n              autoComplete=\"off\"\n              value={searchText}\n              onChange={handleInputChange}\n            />\n\n            <button\n              onClick={(e) => {\n                handleSearch(e);\n              }}\n              name=\"search-general\"\n            >\n              Search...\n            </button>\n            <br />\n            <button\n              onClick={(e) => {\n                e.preventDefault();\n                setShowAdvancedFilters(!showAdvancedFilters);\n              }}\n            >\n              Advanced Filters\n            </button>\n            {showAdvancedFilters && (\n              <div className=\"advanced-filters\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Find members by id\"\n                  name=\"searchTextByID\"\n                  autoComplete=\"off\"\n                  value={searchTextByID}\n                  onChange={handleInputChange}\n                />\n\n                <button\n                  onClick={(e) => {\n                    handleSearch(e);\n                  }}\n                  name=\"search-text-by-id\"\n                >\n                  Search...\n                </button>\n\n                <input\n                  type=\"text\"\n                  placeholder=\"Find members by name\"\n                  name=\"searchTextByFirstName\"\n                  autoComplete=\"off\"\n                  value={searchTextByFirstName}\n                  onChange={handleInputChange}\n                />\n\n                <button\n                  onClick={(e) => {\n                    handleSearch(e);\n                  }}\n                  name=\"search-text-by-firstname\"\n                >\n                  Search...\n                </button>\n\n                <input\n                  type=\"text\"\n                  placeholder=\"Find members by lastname\"\n                  name=\"searchTextByLastName\"\n                  autoComplete=\"off\"\n                  value={searchTextByLastName}\n                  onChange={handleInputChange}\n                />\n\n                <button\n                  onClick={(e) => {\n                    handleSearch(e);\n                  }}\n                  name=\"search-text-by-lastname\"\n                >\n                  Search...\n                </button>\n\n                <input\n                  type=\"text\"\n                  placeholder=\"Find members by gender\"\n                  name=\"searchTextByGender\"\n                  autoComplete=\"off\"\n                  value={searchTextByGender}\n                  onChange={handleInputChange}\n                />\n\n                <button\n                  onClick={(e) => {\n                    handleSearch(e);\n                  }}\n                  name=\"search-text-by-gender\"\n                >\n                  Search...\n                </button>\n\n                <input\n                  type=\"text\"\n                  placeholder=\"Find members by party\"\n                  name=\"searchTextByParty\"\n                  autoComplete=\"off\"\n                  value={searchTextByParty}\n                  onChange={handleInputChange}\n                />\n\n                <button\n                  onClick={(e) => {\n                    handleSearch(e);\n                  }}\n                  name=\"search-text-by-party\"\n                >\n                  Search...\n                </button>\n              </div>\n            )}\n          </form>\n        </div>\n\n        <div>\n          <h4> Results: </h4>\n          {filteredSearch.length === 0 ? (\n            <p>No results</p>\n          ) : (\n            <CongressGrid listOfMembers={filteredSearch} />\n          )}\n          <hr />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { useState } from \"react\";\n\nexport const useForm = (initialState = {}) => {\n  const [values, setValues] = useState(initialState);\n\n  const reset = () => {\n    setValues(initialState);\n  };\n\n  const handleInputChange = ({ target }) => {\n    setValues({\n      ...values,\n      [target.name]: target.value,\n    });\n  };\n\n  return [values, handleInputChange, reset];\n};\n","import React from \"react\";\nimport \"../../styles/footer.scss\";\n\nexport const Footer = () => {\n  return (\n    <footer>\n      Congress Members © {new Date().getFullYear()}. Built with 💜 by\n      {` `}\n      <a href=\"https://www.emilianolucero.ar\">Emiliano Lucero</a>\n    </footer>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport const Header = () => {\n  return (\n    <nav className=\"header\">\n      <ul>\n        <li>\n          <Link to=\"/\">Home</Link>\n        </li>\n        <li>\n          <Link to=\"/search\">Search</Link>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n","import React from \"react\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { CongressDetailScreen } from \"../components/CongressDetailScreen\";\nimport { CongressListScreen } from \"../components/CongressListScreen\";\n\nimport { SearchScreen } from \"../components/SearchScreen\";\nimport { Footer } from \"../components/ui/Footer\";\nimport { Header } from \"../components/ui/Header\";\nimport { useFetch } from \"../hooks/useFetch\";\nimport \"../styles/navbar.scss\";\n\nexport const AppRouter = () => {\n  const url = \"https://api.propublica.org/congress/v1/102/house/members.json\";\n\n  const { loading, data } = useFetch(url);\n\n  return (\n    <>\n      {loading ? (\n        <div>Loading...</div>\n      ) : (\n        <div>\n          <Router>\n            <Header />\n            <div>\n              <Switch>\n                <Route path=\"/search\">\n                  <SearchScreen listOfMembers={data} />\n                </Route>\n                <Route path=\"/congress/:congressId\">\n                  <CongressDetailScreen listOfMembers={data} />\n                </Route>\n                <Route path=\"/\">\n                  <CongressListScreen listOfMembers={data} />\n                </Route>\n              </Switch>\n            </div>\n          </Router>\n          <Footer />\n        </div>\n      )}\n    </>\n  );\n};\n","import { useEffect, useRef, useState } from \"react\";\n\nexport const useFetch = (url) => {\n  const isMounted = useRef(true);\n  const [state, setState] = useState({\n    data: null,\n    loading: true,\n    error: null,\n  });\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    setState({ data: null, error: null, loading: true });\n\n    fetch(url, {\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-API-Key\": \"a0CHHl708v6kczmfIugymmaIKan93Pqct35cwCEs\",\n      },\n    })\n      .then((resp) => resp.json())\n      .then((data) => {\n        if (isMounted.current) {\n          setState({\n            loading: false,\n            error: null,\n            data,\n          });\n        } else {\n          //console.log(\"componente desmontado\");\n        }\n      });\n  }, [url]);\n\n  return state;\n};\n","import { AppRouter } from \"./routers/AppRouter\";\nimport \"./styles/app.scss\";\n\nfunction App() {\n  return <AppRouter />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles/index.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}